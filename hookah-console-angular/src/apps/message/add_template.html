<style>
	.form-group span {
		margin-right: 20px;
	}
	.flag {
		margin-left: 150px;
	}
	.info ul li{
		cursor: pointer;
	}
	.info ul li:hover {

		background: #e4e4e4;
	}
	.info .active{
		background: #e4e4e4;
	}
	.support ul li {
		float: left;
	}
</style>
<div class="row">
	<div class="col-sm-12">
		<div class="console-title console-title-border clearfix">
			<div class="pull-left"><h5 data-ng-bind="title">添加消息模板</h5></div>
			<div class="pull-right">
				<button class="btn btn-default" data-ng-click="returnPage()">
					<span class="glyphicon glyphicon-arrow-left"></span> 返回
				</button>
			</div>
		</div>
		<form class="form-horizontal" role="form" id="infoForm" name="infoForm" novalidate>
			<input type="hidden" name="id" value="{{template.id}}">
			<div class="box " style="margin-top:20px;margin-left:20px;">
				<div class="form-group">
					<label class="col-sm-2 control-label">事件类型:</label>
					<div class="col-sm-5">
						<input type="hidden" name="eventType" value="{{eventType}}"/>
						<select ng-model="eventType" ng-options="eventType.code as eventType.describle for eventType in eventTypes" style="width: 155px;height: 32px">
						</select>
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-2 control-label">模板类型:</label>
					<div class="col-sm-5">
						<label style="font-weight: normal;margin-right: 10px;"><input type="radio" name="templateType" ng-checked="template.templateType == 2" value="2" checked>&nbsp;站内信</label>
						<label style="font-weight: normal;margin-right: 10px;"><input type="radio" name="templateType" ng-checked="template.templateType == 0" value="0">&nbsp;短信</label>
						<label style="font-weight: normal;margin-right: 10px;"><input type="radio" name="templateType" ng-checked="template.templateType == 1" value="1">&nbsp;邮件</label>
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-2 control-label">模板标题:</label>
					<div class="col-sm-5">
						<input type="text" style="width:330px;line-height: 25px;border:1px solid #ccc;" name="templateHeader" required data-ng-model="templateHeader" maxlength="40" placeholder="例如：密码找回验证通知"><span style="margin:0 0 0 10px;">{{templateHeader.length < 1 || !templateHeader.length ? '0' :templateHeader.length}}</span>/40
						<span style="color:red;" data-ng-show="infoForm.templateHeader.$error.required">必填</span>
					</div>
				</div>
				<div class="form-group">
					<!--<div class="form-group">-->
						<!--<label class="col-sm-2 control-label">状态:</label>-->
						<!--<div class="col-sm-5">-->
							<!--<span><input type="radio" name="isVaild" value="1" checked>启用</span>-->
							<!--<span><input type="radio" name="isVaild" value="0">禁用</span>-->
						<!--</div>-->
					<!--</div>-->
					<label class="col-sm-2 control-label">内容:</label>
					<div class="col-sm-5" style="position: relative">
						<textarea name="templateContent" id="text" cols="50" rows="8" ng-model="content" maxlength="70" ng-keydown="keyDownFn($event)" required></textarea><span style="margin:0 0 0 10px;">{{content.length < 1 ? '0' : content.length}}</span>/70
						<span style="color:red;" data-ng-show="infoForm.templateContent.$error.required">必填</span>
						<div class="info" ng-show="flag" style="position: absolute;top: 142px;left: 15px;background: #fff;border: 1px solid #ccc;padding: 10px;z-index: 10;">
							<ul class="tipBox" style="list-style:none;">
								<li ng-repeat="item in list" style="" d-id="{{item.id}}" d-code="{{item.code}}" ng-class='{active:$first}' 　ng-click="list('{{item.code}}')" style="margin-left:-30px;margin-right:10px;">
									{{item.describle}}
								</li>
							</ul>
						</div>
					</div>
				</div>
				<div class="form-group">
					<label class="col-sm-2 control-label">支持变量名:</label>
					<div class="col-sm-5">
						<span class="support" style="display: inline-block;">
							<ul style="list-style: none;">
								<li ng-repeat="item in list" style="line-height:25px;margin-right:10px;">[{{item.describle}}]</li>
							</ul>
						</span>
					</div>
				</div>
				<div class="form-group flag">
					<button type="submit" class="btn btn-default" style="margin-left:200px;margin-right:30px;" data-ng-disabled="infoForm.templateHeader.$error.required || infoForm.templateContent.$error.required" data-ng-click="saveTemplate()">保存
					</button>
					<button class="btn btn-default" data-ng-click="returnPage()">取消</button>
				</div>
			</div>
		</form>
	</div>
</div>